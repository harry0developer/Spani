<ion-header no-shadow no-border>
  <ion-navbar color="dark">
    <ion-title>User Profile</ion-title> 
  </ion-navbar>
</ion-header>
  
<ion-content>
  <ion-card class="top" *ngIf="user"> 
    <ion-grid>

      <ion-row class="user-details"> 
        <ion-col col-4>
          <img src="{{ profilePicture(user) }}" alt="profile" [src]="profilePicture(user)" class="animated zoomIn"
            (error)="img.src = defaultImg" #img (click)="presentActionSheet()">
        </ion-col>
        <ion-col col-8 class="name-title">
          <h2 class="animated slideInLeft">{{user.firstname}} {{user.lastname}} </h2>
          <p class="animated slideInRight">{{user.title || user.type}}</p>
        </ion-col>
      </ion-row>

      <ion-row class="rating-contacts">
        <ion-col col-5 class="ratings animated slideInLeft">
          <ion-badge primary>{{userRating}}</ion-badge> 
          <rating [float]="true" [(ngModel)]="userRating" [readonly]="true" ></rating>
        </ion-col>
        <ion-col col-7 class="contacts">
          <div class="item-top animated slideInRight" *ngIf="user.email">
            <i class="fa fa-envelope" item-start></i>
            <span item-start >{{user.email}} </span>
          </div>
          <div class="item-bottom animated slideInRight" *ngIf="user.phonenumber">
            <i class="fa fa-phone" item-start></i>
            <span item-start >{{user.phonenumber}}</span>
          </div>
        </ion-col> 
      </ion-row>
    </ion-grid>
  </ion-card>

  <div class="group-item-info" *ngIf="user">
    <ion-item-divider color="light">
      <i class="animated slideInRight fa fa-user icon" item-end></i>
      Personal Details
    </ion-item-divider>
    <ion-list>
      <ion-item class="item-info" [hidden]="!user.gender">
        <i class="fa fa-transgender" item-start></i>
        <span class="info">Gender</span>
        <span item-end>{{user.gender}} </span>
      </ion-item>
      <ion-item class="item-info" [hidden]="!user.dob">
        <i class="fa fa-calendar" item-start></i>
        <span class="info">Date of birth</span>
        <span item-end>{{user.dob}} </span>
      </ion-item>
      <ion-item class="item-info" [hidden]="!user.race">
        <i class="fa fa-users" item-start></i>
        <span class="info">Race</span>
        <span item-end>{{user.race}} </span>
      </ion-item>
      <ion-item class="item-info" [hidden]="!user.nationality">
        <i class="fa fa-flag" item-start></i>
        <span class="info">Nationality</span>
        <span item-end>{{user.nationality}} </span>
      </ion-item>
    </ion-list>
  </div>

  <div class="group-item-info" *ngIf="user && user.skills">
    <ion-item-divider color="light">
      <i class="animated slideInRight fa fa-award icon" item-end></i>
      Experties
    </ion-item-divider>

    <ion-item class="skills" *ngFor="let skill of user.skills">
      <img src="assets/imgs/category/{{skill.category}}.svg" item-start>
      <h2>{{skill.name}}</h2>
      <p>{{skill.category}}</p>
      <ion-badge item-end>{{skill.experience}}</ion-badge>
    </ion-item> 
  </div> 
</ion-content>

<ion-footer>
  <button ion-button block *ngIf="!isUserInAppointment()" (click)="createAppointment()">Make appointment</button>
  <button ion-button block *ngIf="isUserInAppointment()" (click)="completeAppointmentActionSheet()">Complete appointment</button>
</ion-footer>
  